<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>Your Name</title>
</head>
<body>
    <div class="grid-2">
        <div class="section-1">
            <img src="img/image.png" width="100" height="100">
            <h2>Andrey Konnov</h2>
            <p>Ecology student</p>
            <p>Astana, Kazakhstan.</p>
            <a href="#"><i class="fab fa-linkedin"></i></a>
            <a href="#"><i class="fab fa-github"></i></a>
        </div>
        <div class="section-2">
            <h2>About me</h2>
            <p>Текст про тебя и все остальное.</p>
            <h2>Experience</h2>
            <p>Тут добавить текст насчет твоего опыта</p>

            <h2>Skills</h2>
            <div class="skills-list">
                <a class="skill">Data Analysis</a>
                <a class="skill">GIS / Mapping</a>
                <a class="skill">Field Sampling</a>
                <a class="skill">WIP</a>
                <a class="skill">WIP</a>
                <a class="skill">WIP</a>
                <a class="skill">WIP</a>
                <a class="skill">WIP</a>
                <a class="skill">WIP</a>
                <a class="skill">WIP</a>
            </div>
            <section class="section-project">
            <h2>Projects</h2>
            <div class="project-group">
                <button class="accordion-header">Project one <span>+</span></button>
                <div class="accordion-panel">
                    <div class="subitems">
                        <button class="subitem" data-panel="proj1-panel1">Subproject A</button>
                        <button class="subitem" data-panel="proj1-panel2">Subproject B</button>
                        <button class="subitem" data-panel="proj1-panel3">Subproject C</button>
                    </div>
                    <!--Subpanel description-->
                    <div id="proj1-panel1" class="subpanel">
                        <p>Описание для Subproject A</p>
                        <img src="img/image.png" width="100" height="100">
                    </div>
                    <div id="proj1-panel2" class="subpanel">
                        <p>Описание для Subproject B</p>
                        <img src="img/image.png" width="100" height="100">
                    </div>
                    <div id="proj1-panel3" class="subpanel">
                        <p>Описание для Subproject C</p>
                        <img src="img/image.png" width="100" height="100">
                    </div>

                    <div class="project-overview">
                        <p>Text for Project One (overview)</p>
                        <img src="img/image.png" width="100" height="100">
                        <a href="#" target="_blank">PDF file</a>
                    </div>
                </div>

                <button class="accordion-header">Project two <span>+</span></button>
                <div class="accordion-panel">
                    <p>Text</p>
                    <img src="img/image.png" width="100" height="100">
                    <a href="#" target="_blank">PDF file</a>
                </div>
            </div>    
            </section>
            <!-- Description of contact section -->
            <section>
            <h2>Contact</h2>
            <a href="mailto:konnovandrey55@gmail.com">konnovandrey55@gmail.com</a>
            </section>
        </div>
    </div>

  <!-- Accordion and project styles moved to style.css -->

<script>
// Header toggles its own main panel (like Project Two) and closes other main panels in the group
document.querySelectorAll('.accordion-header').forEach(button => {
  button.addEventListener('click', () => {
    const group = button.closest('.project-group');
    const next = button.nextElementSibling;

    if (next && next.classList.contains('accordion-panel')) {
      const isOpen = next.classList.toggle('open');
      // close other main panels in the group
      if (group) group.querySelectorAll('.accordion-panel').forEach(p => { if (p !== next) p.classList.remove('open'); });
      // hide any open subpanels and reset subitems when opening/closing main
      if (group) {
        group.querySelectorAll('.subpanel').forEach(sp => sp.classList.remove('open'));
        group.querySelectorAll('.subitem').forEach(s => s.classList.remove('active'));
      }
      button.classList.toggle('active', isOpen);
    } else {
      if (group) group.querySelectorAll('.accordion-panel').forEach(p => p.classList.remove('open'));
      button.classList.toggle('active');
    }
  });
});

// Subitem opens a specific subpanel inside the main accordion-panel (keeps main panel open)
document.querySelectorAll('.subitem').forEach(btn => {
  btn.addEventListener('click', (e) => {
    e.stopPropagation();
    const group = btn.closest('.project-group');
    if (!group) return;

    const id = btn.getAttribute('data-panel');
    const panel = group.querySelector('#' + id);

    // If clicking the active subitem => close its panel
    if (btn.classList.contains('active')) {
      if (panel) panel.classList.remove('open');
      btn.classList.remove('active');
      return;
    }

    // ensure main panel is open
    const mainPanel = group.querySelector('.accordion-panel');
    if (mainPanel && !mainPanel.classList.contains('open')) {
      mainPanel.classList.add('open');
      // mark header active
      const header = group.querySelector('.accordion-header');
      if (header) header.classList.add('active');
    }

    // close other subpanels and remove active state
    group.querySelectorAll('.subpanel').forEach(p => p.classList.remove('open'));
    group.querySelectorAll('.subitem').forEach(s => s.classList.remove('active'));

    if (panel) panel.classList.add('open');
    btn.classList.add('active');
  });
});
</script>
</body>
</html>